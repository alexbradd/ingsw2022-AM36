<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) on Fri Jul 01 22:28:30 CEST 2022 -->
<title>PreparePhase</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2022-07-01">
<meta name="description" content="declaration: package: it.polimi.ingsw.server.model, class: PreparePhase">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field-summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li><a href="#field-detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor-detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">it.polimi.ingsw.server.model</a></div>
<h1 title="Class PreparePhase" class="title">Class PreparePhase</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="Phase.html" title="class in it.polimi.ingsw.server.model">it.polimi.ingsw.server.model.Phase</a>
<div class="inheritance"><a href="IteratedPhase.html" title="class in it.polimi.ingsw.server.model">it.polimi.ingsw.server.model.IteratedPhase</a>
<div class="inheritance">it.polimi.ingsw.server.model.PreparePhase</div>
</div>
</div>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="MockPreparePhase.html" title="class in it.polimi.ingsw.server.model">MockPreparePhase</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">PreparePhase</span>
<span class="extends-implements">extends <a href="IteratedPhase.html" title="class in it.polimi.ingsw.server.model">IteratedPhase</a></span></div>
<div class="block">It represents the state of the game in which all the game instances are being populated. Before that, it also asks for
 all players to choose their mage (assistant cards deck). It generally follows the <a href="LobbyPhase.html" title="class in it.polimi.ingsw.server.model"><code>LobbyPhase</code></a>, it assumes that
 a lobby with the correct amount of players is already connected. After this phase, the game environment should be
 fully ready for playing.</div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="Phase.html" title="class in it.polimi.ingsw.server.model"><code>Phase</code></a></li>
<li><a href="LobbyPhase.html" title="class in it.polimi.ingsw.server.model"><code>LobbyPhase</code></a></li>
<li><a href="PlanningPhase.html" title="class in it.polimi.ingsw.server.model"><code>PlanningPhase</code></a></li>
</ul>
</dd>
</dl>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../enums/Mage.html" title="enum class in it.polimi.ingsw.enums">Mage</a>&gt;</code></div>
<div class="col-second even-row-color"><code><a href="#chosenMages" class="member-name-link">chosenMages</a></code></div>
<div class="col-last even-row-color">
<div class="block">A list of <a href="../../enums/Mage.html" title="enum class in it.polimi.ingsw.enums"><code>Mage</code></a>s already chosen by someone else.</div>
</div>
<div class="col-first odd-row-color"><code>private final <a href="iterators/ClockWiseIterator.html" title="class in it.polimi.ingsw.server.model.iterators">ClockWiseIterator</a></code></div>
<div class="col-second odd-row-color"><code><a href="#iterator" class="member-name-link">iterator</a></code></div>
<div class="col-last odd-row-color">
<div class="block">An iterator that iterates over the list of players in a cyclical way.</div>
</div>
<div class="col-first even-row-color"><code>private <a href="Table.html" title="class in it.polimi.ingsw.server.model">Table</a></code></div>
<div class="col-second even-row-color"><code><a href="#table" class="member-name-link">table</a></code></div>
<div class="col-last even-row-color">
<div class="block">The table instance of the phase.</div>
</div>
</div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-it.polimi.ingsw.server.model.Phase">Fields inherited from class&nbsp;it.polimi.ingsw.server.model.<a href="Phase.html" title="class in it.polimi.ingsw.server.model">Phase</a></h3>
<code><a href="Phase.html#parameters">parameters</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(it.polimi.ingsw.server.model.Phase)" class="member-name-link">PreparePhase</a><wbr>(<a href="Phase.html" title="class in it.polimi.ingsw.server.model">Phase</a>&nbsp;p)</code></div>
<div class="col-last even-row-color">
<div class="block">A constructor that initializes a new <code>PreparePhase</code> when the <a href="LobbyPhase.html" title="class in it.polimi.ingsw.server.model"><code>LobbyPhase</code></a> has ended.</div>
</div>
<div class="col-constructor-name odd-row-color"><code><a href="#%3Cinit%3E(it.polimi.ingsw.server.model.PreparePhase)" class="member-name-link">PreparePhase</a><wbr>(<a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a>&nbsp;p)</code></div>
<div class="col-last odd-row-color">
<div class="block">Shallow copy constructor given the previous <code>PreparePhase</code>.</div>
</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(it.polimi.ingsw.server.model.PreparePhase,it.polimi.ingsw.server.model.Player)" class="member-name-link">PreparePhase</a><wbr>(<a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a>&nbsp;prev,
 <a href="Player.html" title="class in it.polimi.ingsw.server.model">Player</a>&nbsp;current)</code></div>
<div class="col-last even-row-color">
<div class="block">Shallow copy constructor given the previous <code>PreparePhase</code>, allows to specify a different <a href="Player.html" title="class in it.polimi.ingsw.server.model"><code>Player</code></a> to
 play the round.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="Phase.html" title="class in it.polimi.ingsw.server.model">Phase</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#chooseMageDeck(it.polimi.ingsw.server.model.Player,it.polimi.ingsw.enums.Mage)" class="member-name-link">chooseMageDeck</a><wbr>(<a href="Player.html" title="class in it.polimi.ingsw.server.model">Player</a>&nbsp;player,
 <a href="../../enums/Mage.html" title="enum class in it.polimi.ingsw.enums">Mage</a>&nbsp;mage)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method lets the given Player choose the mage deck corresponding to the given enum.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#distributeCoins()" class="member-name-link">distributeCoins</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Helper method that distributes one coin to each player's <code>Board</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#distributeStudents()" class="member-name-link">distributeStudents</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Helper method that distributes <a href="GameParameters.html#getnStudentsEntrance()"><code>GameParameters.getnStudentsEntrance()</code></a> students to each player's
 <code>Board</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#distributeTowers()" class="member-name-link">distributeTowers</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Helper method that distributes <a href="GameParameters.html#getnTowers()"><code>GameParameters.getnTowers()</code></a> towers to each player's
 <code>Board</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#executeCharacterHook()" class="member-name-link">executeCharacterHook</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Runs the PreparePhase hooks of the various Character cards</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="../../functional/Tuple.html" title="class in it.polimi.ingsw.functional">Tuple</a>&lt;<a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a>,<wbr><a href="Student.html" title="class in it.polimi.ingsw.server.model">Student</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#extractFromSack()" class="member-name-link">extractFromSack</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Helper method that extracts one <code>Student</code> from the <code>Sack</code>, and returns the update, as a <a href="../../functional/Tuple.html" title="class in it.polimi.ingsw.functional"><code>Tuple</code></a>
 containing the updated <code>PreparePhase</code> and the retrieved <code>Student</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#fillSack(int)" class="member-name-link">fillSack</a><wbr>(int&nbsp;nOfColor)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Helper method that fills the <code>Sack</code> with <code>nOfColor</code> students of each color, such that the total number
 of students added is <code>nOfColor * number of piece colors</code>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="Table.html" title="class in it.polimi.ingsw.server.model">Table</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getTable()" class="member-name-link">getTable</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Getter for this Phase's <a href="Table.html" title="class in it.polimi.ingsw.server.model"><code>Table</code></a>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#pickCharacters()" class="member-name-link">pickCharacters</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Helper method that picks three character cards and places them on the <a href="#table"><code>table</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#placeClouds()" class="member-name-link">placeClouds</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Helper method that places <a href="GameParameters.html#getnPlayers()"><code>GameParameters.getnPlayers()</code></a> empty <code>Clouds</code> on the <code>Table</code>.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#putStudentsOnIslands()" class="member-name-link">putStudentsOnIslands</a>()</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Helper method that distributes all the students inside the sack on the islands.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#randomlyPlaceMotherNature()" class="member-name-link">randomlyPlaceMotherNature</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Helper that places Mother nature on a random island.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>private <a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#setupTable(it.polimi.ingsw.server.model.PreparePhase)" class="member-name-link">setupTable</a><wbr>(<a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a>&nbsp;phase)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Helper method that sets up all the uninitialized game entities for the start of a new game.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>(package private) <a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#updateTable(java.util.function.Function)" class="member-name-link">updateTable</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;<a href="Table.html" title="class in it.polimi.ingsw.server.model">Table</a>,<wbr><a href="Table.html" title="class in it.polimi.ingsw.server.model">Table</a>&gt;&nbsp;update)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">This method allows to update the Table instance of the Phase, and then returns a new PreparePhase instance with
 the updates.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-it.polimi.ingsw.server.model.IteratedPhase">Methods inherited from class&nbsp;it.polimi.ingsw.server.model.<a href="IteratedPhase.html" title="class in it.polimi.ingsw.server.model">IteratedPhase</a></h3>
<code><a href="IteratedPhase.html#authorizePlayer(java.lang.String)">authorizePlayer</a>, <a href="IteratedPhase.html#dump()">dump</a>, <a href="IteratedPhase.html#getCurrentPlayer()">getCurrentPlayer</a>, <a href="IteratedPhase.html#setCurrentPlayer(it.polimi.ingsw.server.model.Player)">setCurrentPlayer</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-it.polimi.ingsw.server.model.Phase">Methods inherited from class&nbsp;it.polimi.ingsw.server.model.<a href="Phase.html" title="class in it.polimi.ingsw.server.model">Phase</a></h3>
<code><a href="Phase.html#addPlayer(java.lang.String)">addPlayer</a>, <a href="Phase.html#addToHall(it.polimi.ingsw.server.model.Player,it.polimi.ingsw.server.model.Student)">addToHall</a>, <a href="Phase.html#addToIsland(it.polimi.ingsw.server.model.Player,int,it.polimi.ingsw.server.model.Student)">addToIsland</a>, <a href="Phase.html#compare(it.polimi.ingsw.server.model.Phase)">compare</a>, <a href="Phase.html#drainCloud(it.polimi.ingsw.server.model.Player,int)">drainCloud</a>, <a href="Phase.html#getFromEntrance(it.polimi.ingsw.server.model.Player,it.polimi.ingsw.enums.PieceColor)">getFromEntrance</a>, <a href="Phase.html#getName()">getName</a>, <a href="Phase.html#getParameters()">getParameters</a>, <a href="Phase.html#getPlayerUsernames()">getPlayerUsernames</a>, <a href="Phase.html#getWinners()">getWinners</a>, <a href="Phase.html#hasPlayedCharacter()">hasPlayedCharacter</a>, <a href="Phase.html#isFinal()">isFinal</a>, <a href="Phase.html#markStudentMove(it.polimi.ingsw.server.model.Player)">markStudentMove</a>, <a href="Phase.html#moveMn(it.polimi.ingsw.server.model.Player,int)">moveMn</a>, <a href="Phase.html#playAssistant(it.polimi.ingsw.server.model.Player,it.polimi.ingsw.enums.AssistantType)">playAssistant</a>, <a href="Phase.html#playCharacter(it.polimi.ingsw.server.model.Player,it.polimi.ingsw.enums.CharacterType,it.polimi.ingsw.server.model.CharacterStep...)">playCharacter</a>, <a href="Phase.html#removePlayer(java.lang.String)">removePlayer</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="table">
<h3>table</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="Table.html" title="class in it.polimi.ingsw.server.model">Table</a></span>&nbsp;<span class="element-name">table</span></div>
<div class="block">The table instance of the phase.</div>
</section>
</li>
<li>
<section class="detail" id="iterator">
<h3>iterator</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="iterators/ClockWiseIterator.html" title="class in it.polimi.ingsw.server.model.iterators">ClockWiseIterator</a></span>&nbsp;<span class="element-name">iterator</span></div>
<div class="block">An iterator that iterates over the list of players in a cyclical way.</div>
</section>
</li>
<li>
<section class="detail" id="chosenMages">
<h3>chosenMages</h3>
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../enums/Mage.html" title="enum class in it.polimi.ingsw.enums">Mage</a>&gt;</span>&nbsp;<span class="element-name">chosenMages</span></div>
<div class="block">A list of <a href="../../enums/Mage.html" title="enum class in it.polimi.ingsw.enums"><code>Mage</code></a>s already chosen by someone else.</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(it.polimi.ingsw.server.model.Phase)">
<h3>PreparePhase</h3>
<div class="member-signature"><span class="element-name">PreparePhase</span><wbr><span class="parameters">(<a href="Phase.html" title="class in it.polimi.ingsw.server.model">Phase</a>&nbsp;p)</span>
      throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></span></div>
<div class="block">A constructor that initializes a new <code>PreparePhase</code> when the <a href="LobbyPhase.html" title="class in it.polimi.ingsw.server.model"><code>LobbyPhase</code></a> has ended.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>p</code> - the <code>LobbyPhase</code> instance</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(it.polimi.ingsw.server.model.PreparePhase)">
<h3>PreparePhase</h3>
<div class="member-signature"><span class="element-name">PreparePhase</span><wbr><span class="parameters">(<a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a>&nbsp;p)</span>
      throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></span></div>
<div class="block">Shallow copy constructor given the previous <code>PreparePhase</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>p</code> - the previous <code>PreparePhase</code></dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="&lt;init&gt;(it.polimi.ingsw.server.model.PreparePhase,it.polimi.ingsw.server.model.Player)">
<h3>PreparePhase</h3>
<div class="member-signature"><span class="element-name">PreparePhase</span><wbr><span class="parameters">(<a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a>&nbsp;prev,
 <a href="Player.html" title="class in it.polimi.ingsw.server.model">Player</a>&nbsp;current)</span>
      throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></span></div>
<div class="block">Shallow copy constructor given the previous <code>PreparePhase</code>, allows to specify a different <a href="Player.html" title="class in it.polimi.ingsw.server.model"><code>Player</code></a> to
 play the round.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>prev</code> - the previous <code>PreparePhase</code> instance</dd>
<dd><code>current</code> - the <code>Player</code> to play the round</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code></dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="getTable()">
<h3>getTable</h3>
<div class="member-signature"><span class="return-type"><a href="Table.html" title="class in it.polimi.ingsw.server.model">Table</a></span>&nbsp;<span class="element-name">getTable</span>()</div>
<div class="block">Getter for this Phase's <a href="Table.html" title="class in it.polimi.ingsw.server.model"><code>Table</code></a>.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="Phase.html#getTable()">getTable</a></code>&nbsp;in class&nbsp;<code><a href="Phase.html" title="class in it.polimi.ingsw.server.model">Phase</a></code></dd>
<dt>Returns:</dt>
<dd>this Phase's <a href="Table.html" title="class in it.polimi.ingsw.server.model"><code>Table</code></a>.</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="updateTable(java.util.function.Function)">
<h3>updateTable</h3>
<div class="member-signature"><span class="return-type"><a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a></span>&nbsp;<span class="element-name">updateTable</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/function/Function.html" title="class or interface in java.util.function" class="external-link">Function</a>&lt;<a href="Table.html" title="class in it.polimi.ingsw.server.model">Table</a>,<wbr><a href="Table.html" title="class in it.polimi.ingsw.server.model">Table</a>&gt;&nbsp;update)</span></div>
<div class="block">This method allows to update the Table instance of the Phase, and then returns a new PreparePhase instance with
 the updates.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>update</code> - the update function</dd>
<dt>Returns:</dt>
<dd>the new PreparePhase instance</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="chooseMageDeck(it.polimi.ingsw.server.model.Player,it.polimi.ingsw.enums.Mage)">
<h3>chooseMageDeck</h3>
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="Phase.html" title="class in it.polimi.ingsw.server.model">Phase</a></span>&nbsp;<span class="element-name">chooseMageDeck</span><wbr><span class="parameters">(<a href="Player.html" title="class in it.polimi.ingsw.server.model">Player</a>&nbsp;player,
 <a href="../../enums/Mage.html" title="enum class in it.polimi.ingsw.enums">Mage</a>&nbsp;mage)</span>
                     throws <span class="exceptions"><a href="exceptions/InvalidPhaseUpdateException.html" title="class in it.polimi.ingsw.server.model.exceptions">InvalidPhaseUpdateException</a></span></div>
<div class="block">This method lets the given Player choose the mage deck corresponding to the given enum.</div>
<dl class="notes">
<dt>Overrides:</dt>
<dd><code><a href="Phase.html#chooseMageDeck(it.polimi.ingsw.server.model.Player,it.polimi.ingsw.enums.Mage)">chooseMageDeck</a></code>&nbsp;in class&nbsp;<code><a href="Phase.html" title="class in it.polimi.ingsw.server.model">Phase</a></code></dd>
<dt>Parameters:</dt>
<dd><code>player</code> - a reference to a Player as returned by <code>authorizePlayer</code></dd>
<dd><code>mage</code> - a <a href="../../enums/Mage.html" title="enum class in it.polimi.ingsw.enums"><code>Mage</code></a> value</dd>
<dt>Throws:</dt>
<dd><code><a href="exceptions/InvalidPhaseUpdateException.html" title="class in it.polimi.ingsw.server.model.exceptions">InvalidPhaseUpdateException</a></code> - if the mage has already been chosen by another player</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="setupTable(it.polimi.ingsw.server.model.PreparePhase)">
<h3>setupTable</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a></span>&nbsp;<span class="element-name">setupTable</span><wbr><span class="parameters">(<a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a>&nbsp;phase)</span></div>
<div class="block">Helper method that sets up all the uninitialized game entities for the start of a new game. The order of the
 different steps of the initialization process follows, when possible, the real order of the preparation of the
 game (see game rules). More in details:
 <ul>
     <li>Mother nature is placed randomly on one of the islands</li>
     <li><a href="GameParameters.html#getnStudentsInSack()"><code>GameParameters.getnStudentsInSack()</code></a> of each color are added to the <code>Sack</code></li>
     <li>These students are distributed randomly on the <code>List&lt;Island&gt;</code></li>
     <li>The remaining students are added to the <code>Sack</code></li>
     <li>The <code>List&lt;Cloud&gt;</code> is populated</li>
     <li>Every <code>Board</code> receives <a href="GameParameters.html#getnTowers()"><code>GameParameters.getnTowers()</code></a> towers</li>
     <li>Every <code>Board</code> receives <a href="GameParameters.html#getnStudentsEntrance()"><code>GameParameters.getnStudentsEntrance()</code></a> students</li>
     <li>If <a href="GameParameters.html#isExpertMode()"><code>GameParameters.isExpertMode()</code></a> <code>== true</code>, distribute coins pick
              <a href="GameParameters.html#getnOfCharacters()"><code>GameParameters.getnOfCharacters()</code></a> <code>Character</code>s and execute the PreparePhase hook</li>
 </ul></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>phase</code> - the phase on which to perform the initialization operations</dd>
<dt>Returns:</dt>
<dd>the new phase with an initialized <a href="#table"><code>table</code></a></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="randomlyPlaceMotherNature()">
<h3>randomlyPlaceMotherNature</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a></span>&nbsp;<span class="element-name">randomlyPlaceMotherNature</span>()</div>
<div class="block">Helper that places Mother nature on a random island.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the new updated <code>PreparePhase</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="fillSack(int)">
<h3>fillSack</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a></span>&nbsp;<span class="element-name">fillSack</span><wbr><span class="parameters">(int&nbsp;nOfColor)</span></div>
<div class="block">Helper method that fills the <code>Sack</code> with <code>nOfColor</code> students of each color, such that the total number
 of students added is <code>nOfColor * number of piece colors</code>.</div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>nOfColor</code> - the number of students of each color to be added</dd>
<dt>Returns:</dt>
<dd>the new updated <code>PreparePhase</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="putStudentsOnIslands()">
<h3>putStudentsOnIslands</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a></span>&nbsp;<span class="element-name">putStudentsOnIslands</span>()</div>
<div class="block">Helper method that distributes all the students inside the sack on the islands.
 Edge cases (for usage on different parameters than the ones specified by the game rules):
 <ul>
     <li>If <code>(number of islands) - 2 &gt; students in sack </code>, some islands (besides the one on which Mother
     Nature lies and the opposite one) will be initially empty</li>
     <li>If <code>(number of islands) - 2 &lt; students in sack </code>, the sack won't be empty after this operation</li>
 </ul></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the new updated <code>PreparePhase</code></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#extractFromSack()"><code>extractFromSack()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="placeClouds()">
<h3>placeClouds</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a></span>&nbsp;<span class="element-name">placeClouds</span>()</div>
<div class="block">Helper method that places <a href="GameParameters.html#getnPlayers()"><code>GameParameters.getnPlayers()</code></a> empty <code>Clouds</code> on the <code>Table</code>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the new updated <code>PreparePhase</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="distributeStudents()">
<h3>distributeStudents</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a></span>&nbsp;<span class="element-name">distributeStudents</span>()</div>
<div class="block">Helper method that distributes <a href="GameParameters.html#getnStudentsEntrance()"><code>GameParameters.getnStudentsEntrance()</code></a> students to each player's
 <code>Board</code>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the new updated <code>PreparePhase</code></dd>
<dt>See Also:</dt>
<dd>
<ul class="see-list">
<li><a href="#extractFromSack()"><code>extractFromSack()</code></a></li>
</ul>
</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="distributeTowers()">
<h3>distributeTowers</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a></span>&nbsp;<span class="element-name">distributeTowers</span>()</div>
<div class="block">Helper method that distributes <a href="GameParameters.html#getnTowers()"><code>GameParameters.getnTowers()</code></a> towers to each player's
 <code>Board</code>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the new updated <code>PreparePhase</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="distributeCoins()">
<h3>distributeCoins</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a></span>&nbsp;<span class="element-name">distributeCoins</span>()</div>
<div class="block">Helper method that distributes one coin to each player's <code>Board</code>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the new updated <code>PreparePhase</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="pickCharacters()">
<h3>pickCharacters</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a></span>&nbsp;<span class="element-name">pickCharacters</span>()</div>
<div class="block">Helper method that picks three character cards and places them on the <a href="#table"><code>table</code></a>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the new updated <code>PreparePhase</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="executeCharacterHook()">
<h3>executeCharacterHook</h3>
<div class="member-signature"><span class="modifiers">private</span>&nbsp;<span class="return-type"><a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a></span>&nbsp;<span class="element-name">executeCharacterHook</span>()</div>
<div class="block">Runs the PreparePhase hooks of the various Character cards</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the new updated <code>PreparePhase</code></dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="extractFromSack()">
<h3>extractFromSack</h3>
<div class="member-signature"><span class="return-type"><a href="../../functional/Tuple.html" title="class in it.polimi.ingsw.functional">Tuple</a>&lt;<a href="PreparePhase.html" title="class in it.polimi.ingsw.server.model">PreparePhase</a>,<wbr><a href="Student.html" title="class in it.polimi.ingsw.server.model">Student</a>&gt;</span>&nbsp;<span class="element-name">extractFromSack</span>()
                                     throws <span class="exceptions"><a href="exceptions/EmptyContainerException.html" title="class in it.polimi.ingsw.server.model.exceptions">EmptyContainerException</a></span></div>
<div class="block">Helper method that extracts one <code>Student</code> from the <code>Sack</code>, and returns the update, as a <a href="../../functional/Tuple.html" title="class in it.polimi.ingsw.functional"><code>Tuple</code></a>
 containing the updated <code>PreparePhase</code> and the retrieved <code>Student</code>.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>a <a href="../../functional/Tuple.html" title="class in it.polimi.ingsw.functional"><code>Tuple</code></a> containing the updated <code>PreparePhase</code> and the retrieved <code>Student</code>.</dd>
<dt>Throws:</dt>
<dd><code><a href="exceptions/EmptyContainerException.html" title="class in it.polimi.ingsw.server.model.exceptions">EmptyContainerException</a></code> - if the <code>Sack</code> is empty</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
